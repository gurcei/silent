#OUTPUT "BASLOGO"' ¬¡ŒÀ4 ÕEMORY USAGE' ------------------' 4.0000 ƒÕ¡-Ã…”‘' 4.0800 ”√“≈≈Œ Õ≈Õœ“Ÿ' 4.2000 –≈‘”√…… «“¡–»…√”' ¬¡ŒÀ5 ÕEMORY USAGE' ------------------' 5.0000 SCREEN BUFFER' 5.1000 COLOR RAM BUFFER.DEFINES#DECLARE K, PTR, TMP, MAXØFRAMES, FRMØIDX, FRMW, FRMH, SZ#DECLARE FRAMEØADDR(25), SRCØADDR, DESTØADDR, LENGTH, TRANSP#DECLARE FRAMEIDX, FX, FY, MIRROR, DATAØADDR, FRMX, FRMY#DECLARE FRMX1, FRMY1, SCRADDR, CLRADDR, CDATAØADDR, YY#DECLARE INC, INCØDIR.OFFSETS#DEFINE œ∆∆”≈‘Øƒ¡‘¡Ø”…⁄≈  = 0#DEFINE œ∆∆”≈‘ØŒ’ÕØ∆“¡Õ≈” = 2#DEFINE œ∆∆”≈‘Ø∆“¡Õ≈0     = 3#DEFINE ∆“ÕØœ∆∆”≈‘Øÿ          = 0#DEFINE ∆“ÕØœ∆∆”≈‘ØŸ          = 1#DEFINE ∆“ÕØœ∆∆”≈‘Ø◊          = 2#DEFINE ∆“ÕØœ∆∆”≈‘Ø»          = 3#DEFINE ∆“ÕØœ∆∆”≈‘Ø»…‘¬œÿ≈”   = 4#DEFINE ∆“ÕØœ∆∆”≈‘Ø»¬Ø»≈¡ƒ    = 4#DEFINE ∆“ÕØœ∆∆”≈‘Ø»¬Ø‘œ“”œ   = 8#DEFINE ∆“ÕØœ∆∆”≈‘Ø»¬Ø∆≈≈‘    = 12#DEFINE ∆“ÕØœ∆∆”≈‘Ø»¬Ø¡‘‘¡√À  = 16#DEFINE ∆“ÕØœ∆∆”≈‘Øƒ¡‘¡       = 20'----.MAIN'----  GOSUB INIT  GOSUB LOADØDATA  GOSUB ANIMATEØLOGO  END'------------.ANIMATEØLOGO'------------  INCØDIR = -1  INC = 3.ANIMØRPT  GOSUB DRAWØB  GOSUB PAGEØFLIP    INC = INC + .2 * INCØDIR  IF INC < .6 THEN INCØDIR = 1  IF INC > 2.9 THEN INCØDIR = -1  GOTO ANIMØRPT    RETURN'----.INIT'----  POKE $D020, 1, 1  PRINT CHR$(142);   ' UPPERCASE  PRINT CHR$(27);"5" ' 80X50  ' CLEAR DMA LIST AREA  FOR K = 0 TO 20    POKE $40000+K, 0  NEXT K  POKE $40000, $81 ' OPT = DEST ADDR Õ¬ SELECTOR  POKE $40001, $00 ' DEFAULT TO 1ST MEGABYTE  POKE $40002, $07 ' OPT = ENABLE TRANSPARENCY  POKE $40003, $86 ' OPT = SET TRANSPARENCY  POKE $40004, $20 ' TRANSPARENCY VALUE  POKE $40005, $00 ' END OF OPTIONS  POKE $40006, $00 ' √Õƒ LSB = √œ–Ÿ  WPOKE $40007, $0000 ' LENGTH  WPOKE $40009, $1000 ' SOURCE ADDR  POKE $4000B, $05    ' SOURCE BANK  WPOKE $4000C, $1000 ' DEST ADDR  POKE $4000E, $05    ' DEST BANK  POKE $4000F, $00    ' √Õƒ MSB (IGNORE)  WPOKE $40010, $0000 ' MODULO (IGNORE)  ' CLEAR THE OFFSCREEN BUFFER  EDMA 3, $FA0, 32, $50000  EDMA 3, $FA0, 0, $51000  RETURN'---------.LOADØDATA'---------  PTR = $42000    BLOAD "BAS.BIN",P(PTR)  GOSUB INITØPETSCIIØFRAMES  GOSUB ØINCREMENTØPTRØTOØNEXTØFREE  RETURN'-------------------.INITØPETSCIIØFRAMES'-------------------  TMP = PTR  MAXØFRAMES = PEEK(PTR + œ∆∆”≈‘ØŒ’ÕØ∆“¡Õ≈”)  'PRINT  'PRINT "PTR=";HEX$(PTR + œ∆∆”≈‘ØŒ’ÕØ∆“¡Õ≈”)  PTR = PTR + œ∆∆”≈‘Ø∆“¡Õ≈0  'PRINT  'PRINT "FORM=";FORM;" - MXØFRM=";MAXØFRAMES;": ";  FRMØIDX = 0  DO WHILE FRMØIDX < MAXØFRAMES    'PRINT FRMØIDX;    FRAMEØADDR(FRMØIDX) = PTR    FRMW = PEEK(PTR + ∆“ÕØœ∆∆”≈‘Ø◊)    FRMH = PEEK(PTR + ∆“ÕØœ∆∆”≈‘Ø»)        'PRINT "PTR=";HEX$(PTR);", IDX=";FRMØIDX;", W=";FRMW;", H=";FRMH    PTR = PTR + ∆“ÕØœ∆∆”≈‘Øƒ¡‘¡ + FRMW * FRMH    ':PRINT CHR$(147);"FRMØIDX=";FRMØIDX    FRMØIDX = FRMØIDX + 1  LOOP  PTR = TMP  RETURN'---------------------------.ØINCREMENTØPTRØTOØNEXTØFREE'---------------------------  PTR = TMP  SZ = WPEEK(PTR + œ∆∆”≈‘Øƒ¡‘¡Ø”…⁄≈)  'PRINT  'PRINT "INC SZ = ";SZ  'PRINT "PTR = ";HEX$(PTR + œ∆∆”≈‘Øƒ¡‘¡Ø”…⁄≈)  PTR = PTR + SZ  'GET KEY A$  RETURN'------.DRAWØB'------  FRAMEIDX = 0  FX=5 : FY=10  MIRROR = 0  GOSUB DRAWØPETSCIIØFRAME  RETURN'------------------.DRAWØPETSCIIØFRAME'------------------  POKE $4000B, $04  ' ASSURE SOURCE BANK 4 (FOR ORIGINAL FRAME DATA)  IF MIRROR = 1 THEN SETBIT $40006, 5:ELSE CLRBIT $40006, 5  DATAØADDR = FRAMEØADDR(FRAMEIDX)  FRMX = PEEK(DATAØADDR + ∆“ÕØœ∆∆”≈‘Øÿ)  FRMY = PEEK(DATAØADDR + ∆“ÕØœ∆∆”≈‘ØŸ)  FRMW = PEEK(DATAØADDR + ∆“ÕØœ∆∆”≈‘Ø◊)  FRMH = PEEK(DATAØADDR + ∆“ÕØœ∆∆”≈‘Ø»)  FRMX = FX ' OVERRIDE POSITION  FRMY = FY  FRMX1=FRMX+FRMW-1  FRMY1=FRMY+FRMH-1  SCRADDR = $50000 + FRMX + (FRMY+FRMH-1) * 80  CLRADDR = $51000 + FRMX + (FRMY+FRMH-1) * 80  IF MIRROR = 1 THEN CLRADDR = CLRADDR + FRMW - 1  DATAØADDR = DATAØADDR + ∆“ÕØœ∆∆”≈‘Øƒ¡‘¡  CDATAØADDR = DATAØADDR + FRMW * FRMH  FOR YY=FRMY1 TO FRMY STEP -INC    IF YY < FRMY THEN YY = FRMY    IF SCRADDR < $50000 THEN GOTO FORØSKIP    ' DRAW CHARS    ' ----------    SRCØADDR = DATAØADDR + INT(YY-FRMY) * FRMW    DESTØADDR = SCRADDR    LENGTH = FRMW    TRANSP = 102    GOSUB TRANSPARENTØDMA    SRCØADDR = CDATAØADDR + INT(YY-FRMY) * FRMW    DESTØADDR = CLRADDR    LENGTH = FRMW    TRANSP = $FF    GOSUB TRANSPARENTØDMA    'DATAØADDR = D + FRMW * INT(FRMY1 + YY    'CDATAØADDR = CDATAØADDR + FRMW    SCRADDR = SCRADDR - 80    CLRADDR = CLRADDR - 80.FORØSKIP  NEXT YY  RETURN'---------------.TRANSPARENTØDMA'---------------  WPOKE $40009, SRCØADDR  WPOKE $4000C, DESTØADDR  WPOKE $40007, LENGTH  POKE  $40004, TRANSP  POKE $D702, 4 ' DMA LIST IN BANK 4  POKE $D701, $00 ' DMA LIST MSB  POKE $D705, $00 ' DMA LIST LSB  RETURN'---------.PAGEØFLIP'---------  EDMA 0, $FA0, $50000, $40800  EDMA 0, $FA0, $51000, $FF80000  ' CLEAR THE OFFSCREEN BUFFER  EDMA 3, $FA0, 32, $50000  EDMA 3, $FA0, 0, $51000  RETURN