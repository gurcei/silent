#OUTPUT "PETLINE"' DRAW LINES IN 80X50 WITH PETSCII BLOCK CHARS' GIVING A FULL RESOLUTION OF 160X100' Œœ‘≈: ◊HEN … LATER WANT TO MOVE THE LOGIC INTO ASSEMBLY,' CONSIDER REFERENCING GRIM FANDANGO'S Õ≈«¡–Ãœ‘ ASSEMBLY SOURCE:' - HTTPS://GITHUB.COM/GRIM-FANDANGO/MEGAPLOT/BLOB/MASTER/MEGAPLOT.A'--------.DECLARES'--------#DECLARE –…ÿØ‘Ã = 126#DECLARE –…ÿØ‘“ = 124#DECLARE –…ÿØ¬Ã = 123#DECLARE –…ÿØ¬“ = 108#DECLARE –…ÿØ…Œ÷Ø‘Ã = 254#DECLARE –…ÿØ…Œ÷Ø‘“ = 252#DECLARE –…ÿØ…Œ÷Ø¬Ã = 251#DECLARE –…ÿØ…Œ÷Ø¬“ = 236#DECLARE –…ÿØƒ…¡«Ø‘ÃØ¬“ = 127#DECLARE –…ÿØƒ…¡«Ø¬ÃØ‘“ = 255#DECLARE –…ÿØ»Ã…Œ≈Ø¬œ‘ = 98#DECLARE –…ÿØ»Ã…Œ≈Ø‘œ– = 226#DECLARE –…ÿØ÷Ã…Œ≈ØÃ≈∆‘ = 97#DECLARE –…ÿØ÷Ã…Œ≈Ø“…«»‘ = 225#DECLARE –…ÿØŒœŒ≈ = 32#DECLARE –…ÿØ¡ÃÃ = 160#DECLARE –… = 3.141592654269'----.VARS'----#DECLARE X1, Y1, X2, Y2#DECLARE DX, DY, MX, MY, CX, CY#DECLARE CURØCHAR, PIX#DECLARE DIFFX, DIFFY, DELTAX, DELTAY, TANVAL, ANGLE#DECLARE A$, ANG, LINEØLENGTH, K, DEBUG#DECLARE CENTREX, CENTREY, PX(10), PY(10), PLEN, PANG, PIDX, PDIST#DECLARE SQANG'----.MAIN'----  GOSUB INIT  GOSUB DRAWØMANYØSQUARES  ' GOSUB DRAWØSQUARE  ' GOSUB DRAWØLINESØFROMØCENTREØOUT  END'-----------------.DRAWØMANYØSQUARES'-----------------  FOR SQANG = 0 TO 1.9 * –… STEP –… / 8    GOSUB DRAWØSQUARE  NEXT SQANG  RETURN'-----------.DRAWØSQUARE'-----------  CENTREX = 80 : CENTREY = 50  PDIST = 30  PANG = SQANG - 3 * –… / 4  PX(0) = CENTREX + PDIST * COS(PANG)  PY(0) = CENTREY + PDIST * SIN(PANG)  PANG = SQANG - –… / 4  PX(1) = CENTREX + PDIST * COS(PANG)  PY(1) = CENTREY + PDIST * SIN(PANG)  PANG = SQANG + –… / 4  PX(2) = CENTREX + PDIST * COS(PANG)  PY(2) = CENTREY + PDIST * SIN(PANG)  PANG = SQANG + 3 * –… / 4  PX(3) = CENTREX + PDIST * COS(PANG)  PY(3) = CENTREY + PDIST * SIN(PANG)  PLEN = 4  GOSUB DRAWØPOLY  RETURN'---------.DRAWØPOLY'---------  FOR PIDX = 0 TO PLEN-2    X1 = PX(PIDX) : Y1 = PY(PIDX)    X2 = PX(PIDX+1) : Y2 = PY(PIDX+1)    GOSUB DRAWØLINE  NEXT PIDX  X1 = PX(PLEN-1) : Y1 = PY(PLEN-1)  X2 = PX(0) : Y2 = PY(0)  GOSUB DRAWØLINE  RETURN'--------------------------.DRAWØLINESØFROMØCENTREØOUT'--------------------------  FOR ANG = 0 TO 2*–… STEP –… / 8    X1 = 80    Y1 = 50    X2 = INT(80 + 30 * COS(ANG))    Y2 = INT(50 + 30 * SIN(ANG))    ' CURSOR 0,20:PRINT CHR$(27);"QX1 =";X1;", Y1 =";Y1    ' CURSOR 0,21:PRINT CHR$(27);"QX2 =";X2;", Y2 =";Y2    ' GET KEY A$    ' IF A$="D" THEN DEBUG = 1: ELSE DEBUG = 0    GOSUB DRAWØLINE  NEXT ANG  RETURN'---------.DRAWØLINE'---------  DIFFX = X2-X1  DIFFY = Y2-Y1  LINEØLENGTH = SQR(DIFFX*DIFFX + DIFFY*DIFFY)    IF DIFFX = 0 THEN BEGIN    DELTAX = 0    IF DIFFY<0 THEN DELTAY = -1    IF DIFFY>0 THEN DELTAY = 1  BEND:ELSE BEGIN    TANVAL = DIFFY / DIFFX    ANGLE = ATN(TANVAL)  ' THIS IS RANGE -90DEG TO 90DEG    IF DIFFX<0 THEN BEGIN     IF DIFFY<0 THEN ANGLE = ANGLE - –…:ELSE ANGLE = ANGLE + –…    BEND    DELTAX = COS(ANGLE)    DELTAY = SIN(ANGLE)  BEND  CX = X1 : CY = Y1  FOR K = 1 TO LINEØLENGTH    GOSUB DRAWØPIXEL    CX = CX + DELTAX    CY = CY + DELTAY    IF DEBUG=1 THEN BEGIN      CURSOR 0,15:PRINT CHR$(27);"QCX =";CX;", CY =";CY      CURSOR 0,22:PRINT CHR$(27);"QDIFFX =";DIFFX;", DIFFY =";DIFFY      GET KEY A$    BEND  NEXT K  GOSUB DRAWØPIXEL  RETURN'----------.DRAWØPIXEL'----------  ' PIXEL CROPPED?  IF CX<0 OR CX>159 OR CY<0 OR CY>99 THEN RETURN  DX = INT(CX/2) : DY = INT(CY/2)  MX = MOD(INT(CX),2) : MY = MOD(INT(CY),2)    ' CURSOR 0,16:PRINT CHR$(27);"QDX =";DX;", DY =";DY    ' CURSOR 0,17:PRINT CHR$(27);"QMX =";MX;", MY =";MY  CURØCHAR = PEEK($40800 + DX + DY * 80)  GOSUB READØONØPIXELS  IF MX = 0 AND MY = 0 THEN PIX = PIX OR 1  IF MX = 1 AND MY = 0 THEN PIX = PIX OR 2  IF MX = 0 AND MY = 1 THEN PIX = PIX OR 4  IF MX = 1 AND MY = 1 THEN PIX = PIX OR 8  GOSUB SETØONØPIXELS  POKE $40800 + DX + DY * 80, CURØCHAR  RETURN'--------------.READØONØPIXELS'--------------  PIX = 0 ' BITFIELDS: TL = 1, TR = 2, BL = 4, BR = 8  IF CURØCHAR = –…ÿØ‘Ã THEN PIX = 1:RETURN  IF CURØCHAR = –…ÿØ‘“ THEN PIX = 2:RETURN  IF CURØCHAR = –…ÿØ¬Ã THEN PIX = 4:RETURN  IF CURØCHAR = –…ÿØ¬“ THEN PIX = 8:RETURN  IF CURØCHAR = –…ÿØ…Œ÷Ø‘Ã THEN PIX=14:RETURN  IF CURØCHAR = –…ÿØ…Œ÷Ø‘“ THEN PIX=13:RETURN  IF CURØCHAR = –…ÿØ…Œ÷Ø¬Ã THEN PIX=11:RETURN  IF CURØCHAR = –…ÿØ…Œ÷Ø¬“ THEN PIX=7:RETURN  IF CURØCHAR = –…ÿØƒ…¡«Ø‘ÃØ¬“ THEN PIX=9:RETURN  IF CURØCHAR = –…ÿØƒ…¡«Ø¬ÃØ‘“ THEN PIX=6:RETURN  IF CURØCHAR = –…ÿØ»Ã…Œ≈Ø¬œ‘ THEN PIX=12:RETURN  IF CURØCHAR = –…ÿØ»Ã…Œ≈Ø‘œ– THEN PIX=3:RETURN  IF CURØCHAR = –…ÿØ÷Ã…Œ≈ØÃ≈∆‘ THEN PIX=5:RETURN  IF CURØCHAR = –…ÿØ÷Ã…Œ≈Ø“…«»‘ THEN PIX=10:RETURN  IF CURØCHAR = –…ÿØ¡ÃÃ THEN PIX=15:RETURN  RETURN'-------------.SETØONØPIXELS'-------------  IF PIX = 0 THEN CURØCHAR = –…ÿØŒœŒ≈:RETURN  IF PIX = 1 THEN CURØCHAR = –…ÿØ‘Ã:RETURN  IF PIX = 2 THEN CURØCHAR = –…ÿØ‘“:RETURN  IF PIX = 3 THEN CURØCHAR = –…ÿØ»Ã…Œ≈Ø‘œ–:RETURN  IF PIX = 4 THEN CURØCHAR = –…ÿØ¬Ã:RETURN  IF PIX = 5 THEN CURØCHAR = –…ÿØ÷Ã…Œ≈ØÃ≈∆‘:RETURN  IF PIX = 6 THEN CURØCHAR = –…ÿØƒ…¡«Ø¬ÃØ‘“:RETURN  IF PIX = 7 THEN CURØCHAR = –…ÿØ…Œ÷Ø¬“:RETURN  IF PIX = 8 THEN CURØCHAR = –…ÿØ¬“:RETURN  IF PIX = 9 THEN CURØCHAR = –…ÿØƒ…¡«Ø‘ÃØ¬“:RETURN  IF PIX = 10 THEN CURØCHAR = –…ÿØ÷Ã…Œ≈Ø“…«»‘:RETURN  IF PIX = 11 THEN CURØCHAR = –…ÿØ…Œ÷Ø¬Ã:RETURN  IF PIX = 12 THEN CURØCHAR = –…ÿØ»Ã…Œ≈Ø¬œ‘:RETURN  IF PIX = 13 THEN CURØCHAR = –…ÿØ…Œ÷Ø‘“:RETURN  IF PIX = 14 THEN CURØCHAR = –…ÿØ…Œ÷Ø‘Ã:RETURN  IF PIX = 15 THEN CURØCHAR = –…ÿØ¡ÃÃ:RETURN  RETURN'----.INIT'----  PRINT CHR$(27);"5";CHR$(147);  RETURN  