' ROTATE SCREEN CONTENTS#OUTPUT "ROTATE"' 4.0000 = 96X96 CLRBOX CANVAS (9216 BYTES)' 4.2400 = FREE.DEFINES'-------#DEFINE œ–Ø√œ–Ÿ = 0#DEFINE œ–ØÕ…ÿ  = 1#DEFINE œ–Ø”◊¡– = 2#DEFINE œ–Ø∆…ÃÃ = 3#DECLARE »œ‘“≈«Ø7 = $D05D#DECLARE ”√“Œ–‘“Ã”¬ = $D060#DECLARE ”√“Œ–‘“¬ŒÀ = $D062#DECLARE T, X, Y, COLR, ANG, XINC, YINC, TX, TY, TXINC, TYINC#DECLARE Y1ADD#DECLARE XFRAC, YFRAC#DECLARE BOXØANG, CX, CY, HYP#DEFINE –… = 3.1415926535#DEFINE A$.MAIN'----  GOSUB INIT  GOSUB DUMMYØCONTENT.MNØLOOP  GOSUB ROTATEØLOGIC  GOSUB DRAWØCONTENT  GOTO MNØLOOP.INIT'----  ^^BLOAD "ASMROTATE",B0  ' PRINT CHR$(27);"5";CHR$(147);  ANG = 2*–…  ' SWITCH TO 80X50  BANK 128  SETBIT »œ‘“≈«Ø7, 7  POKE $D031, $E8 ' 1110 1000 = »640,∆¡”‘,¡‘‘“,÷400  ' MOVE ”√“Œ–‘“ TO BANK4 - $8000  WPOKE ”√“Œ–‘“Ã”¬, $8000  POKE ”√“Œ–‘“¬ŒÀ,$04  ' CLEAR 80X50 CHARS AND COLOUR RAM  EDMA 3, 4000, 160, $48000  EDMA 3, 4000, 6, $FF80000  ' FOR IDX=0 TO 3999:POKE $48000+IDX,160:POKE $FF80000+IDX,6:NEXT IDX  RETURN.DUMMYØCONTENT'-------------  EDMA œ–Ø∆…ÃÃ, 96*96, 0, $40000  FOR T = 0 TO 50    COLR = INT(RND(1)*16)    X = INT(RND(1)*96)    Y = INT(RND(1)*96)    POKE $40000 + X + Y * 96, COLR  NEXT T  FOR Y = 0 TO 96    FOR X = 0 TO 95      POKE $40000 + X + Y * 96, MOD(Y, 16)    NEXT X  NEXT Y  RETURN.ROTATEØLOGIC'------------  ANG = ANG - .1  IF ANG < 0 THEN ANG = ANG + (2 * –…)  HYP = SQR(25*25+40*40) * 256  XINC = COS(ANG) * 256  YINC = SIN(ANG) * 256  TXINC = COS(ANG+–…/2) * 256  TYINC = SIN(ANG+–…/2) * 256  BOXØANG = ATN(-25/-40)+ –… +ANG  IF BOXØANG < 0 THEN BOXØANG = BOXØANG + (2 * –…)  TX = HYP * COS(BOXØANG) + 48 * 256  TY = HYP * SIN(BOXØANG) + 48 * 256  CX = TX  CY = TY  XFRAC = 0  YFRAC = 0  Y1ADD = 0  RETURN.DRAWØCONTENT'------------  ' ¡””≈Õ¬ÃŸ VERSION  IF XINC < 0 THEN XINC = XINC + 65536  IF YINC < 0 THEN YINC = YINC + 65536  IF TXINC < 0 THEN TXINC = TXINC + 65536  IF TYINC < 0 THEN TYINC = TYINC + 65536  WPOKE $1A00, TX  WPOKE $1A02, TY  WPOKE $1A04, XINC  WPOKE $1A06, YINC  WPOKE $1A08, TXINC  WPOKE $1A0A, TYINC  BANK 0:SYS $1800:BANK 128#IFDEF ¬¡”…√  ' ¬¡”…√ VERSION  FOR Y = 0 TO 49    CX = TX    CY = TY    FOR X = 0 TO 79      POKE $FF80000 + X + Y1ADD, PEEK($40000 + CX/256 + CY/256 * 96)      ' POKE $FF80000 + X + Y * 80, PEEK($40000 + X + Y * 96)      CX = CX + XINC      CY = CY + YINC    NEXT X    TX = TX + TXINC    TY = TY + TYINC    Y1ADD = Y1ADD + 80  NEXT Y#ENDIF  'CURSOR 0,0:PRINT CHR$(27);"Q TX=";TX;", TY=";TY;  'CURSOR 0,1:PRINT CHR$(27);"Q ANG=";ANG;", HYP=";HYP;  'CURSOR 0,2:PRINT CHR$(27);"Q XINC=";XINC;", YINC=";YINC;  'CURSOR 0,3:PRINT CHR$(27);"Q TXINC=";TXINC;", TYINC=";TYINC;  'GET KEY A$  RETURN